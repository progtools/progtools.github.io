!function(){function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,o=r(t);if(e){var c=r(this).constructor;i=Reflect.construct(o,arguments,c)}else i=o.apply(this,arguments);return n(this,i)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkprog_tools=self.webpackChunkprog_tools||[]).push([[592],{712:function(t,e,n){"use strict";n.d(e,{K:function(){return a}});var r=n(8583),i=n(1095),o=n(7716),a=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ez,i.ot]]}),t}()},6758:function(n,r,i){"use strict";i.d(r,{d:function(){return w}});var a=i(9765),s=i(7716),u=i(7393),f=i(3637),g={leading:!0,trailing:!1},l=function(){function t(e,n,r,i){c(this,t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return o(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.duration,this.scheduler,this.leading,this.trailing))}}]),t}(),h=function(n){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(i,n);var r=e(i);function i(t,e,n,o,a){var s;return c(this,i),(s=r.call(this,t)).duration=e,s.scheduler=n,s.leading=o,s.trailing=a,s._hasTrailingValue=!1,s._trailingValue=null,s}return o(i,[{key:"_next",value:function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(p,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}]),i}(u.L);function p(t){t.subscriber.clearThrottle()}var d=i(6782),v=i(8583),m=["imageContainer"],b=["cropRect"],O=["image"],_=["canvas"],C=function(t,e,n,r){return{top:t,bottom:e,left:n,right:r}},w=function(){var t=function(){function t(e){c(this,t),this.cdr=e,this.croppedImage=new s.vpe,this.isCropping=new s.vpe,this.topOffset="10px",this.bottomOffset="10px",this.leftOffset="10px",this.rightOffset="10px",this.onDestroyed$=new a.xQ,this.borderDragged$=new a.xQ}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.borderDragged$.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.P,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return function(r){return r.lift(new l(t,e,n.leading,n.trailing))}}(100),(0,d.R)(this.onDestroyed$)).subscribe(function(e){var n=e.event,r=n.viewPortX,i=n.viewPortY,o=e.border,c=t.imgContainerElement.nativeElement.getBoundingClientRect(),a=r-c.x,s=i-c.y;switch(o){case"left":t.leftOffset=a>=0?a+"px":t.leftOffset;break;case"right":var u=c.width-a;t.rightOffset=u>=0?u+"px":t.rightOffset;break;case"top":t.topOffset=s>=0?s+"px":t.topOffset;break;case"bottom":var f=c.height-s;t.bottomOffset=f>=0?f+"px":t.bottomOffset}t.cdr.detectChanges()})}},{key:"ngOnChanges",value:function(t){this.leftOffset=this.topOffset=this.rightOffset=this.bottomOffset="10px"}},{key:"ngOnDestroy",value:function(){this.onDestroyed$.next(),this.onDestroyed$.complete()}},{key:"onDragStart",value:function(t,e){this.currentlyDragging=t;var n=new Image;n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.dataTransfer.setDragImage(n,0,0)}},{key:"onDragOver",value:function(t){this.borderDragged$.next({event:{viewPortX:t.clientX,viewPortY:t.clientY},border:this.currentlyDragging})}},{key:"onTouchDrag",value:function(t,e){e.preventDefault();var n=e.touches[0];this.borderDragged$.next({event:{viewPortX:n.clientX,viewPortY:n.clientY},border:t})}},{key:"cropImage",value:function(){var t=this,e=this.imageElement.nativeElement,n=this.cropRectElement.nativeElement.getBoundingClientRect(),r=this.imgContainerElement.nativeElement.getBoundingClientRect(),i=e.naturalWidth/r.width,o=e.naturalHeight/r.height,c=(n.left-r.left)*i,a=(n.top-r.top)*o,s=n.width*i,u=n.height*o;this.isCropping.emit(!0);var f=this.canvasElement.nativeElement;f.width=s,f.height=u,f.getContext("2d").drawImage(e,c,a,s,u,0,0,s,u),f.toBlob(function(e){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){t.croppedImage.emit(n.result),t.isCropping.emit(!1)}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-image-crop"]],viewQuery:function(t,e){var n;(1&t&&(s.Gf(m,5),s.Gf(b,5),s.Gf(O,5),s.Gf(_,5)),2&t)&&(s.iGM(n=s.CRH())&&(e.imgContainerElement=n.first),s.iGM(n=s.CRH())&&(e.cropRectElement=n.first),s.iGM(n=s.CRH())&&(e.imageElement=n.first),s.iGM(n=s.CRH())&&(e.canvasElement=n.first))},inputs:{imageData:"imageData"},outputs:{croppedImage:"croppedImage",isCropping:"isCropping"},features:[s.TTD],decls:18,vars:7,consts:[[1,"crop-container"],[1,"image-container",3,"dragover"],["imageContainer",""],[3,"src"],["image",""],[1,"crop-rect",3,"ngStyle"],["cropRect",""],["draggable","true",1,"crop-rect-right",3,"dragstart","touchmove"],[1,"circle"],["draggable","true",1,"crop-rect-left",3,"dragstart","touchmove"],["draggable","true",1,"crop-rect-bottom",3,"dragstart","touchmove"],["draggable","true",1,"crop-rect-top",3,"dragstart","touchmove"],[2,"display","none"],["canvas",""]],template:function(t,e){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"div",0),s.TgZ(2,"div",1,2),s.NdJ("dragover",function(t){return e.onDragOver(t)}),s._UZ(4,"img",3,4),s.TgZ(6,"div",5,6),s.TgZ(8,"div",7),s.NdJ("dragstart",function(t){return e.onDragStart("right",t)})("touchmove",function(t){return e.onTouchDrag("right",t)}),s._UZ(9,"div",8),s.qZA(),s.TgZ(10,"div",9),s.NdJ("dragstart",function(t){return e.onDragStart("left",t)})("touchmove",function(t){return e.onTouchDrag("left",t)}),s._UZ(11,"div",8),s.qZA(),s.TgZ(12,"div",10),s.NdJ("dragstart",function(t){return e.onDragStart("bottom",t)})("touchmove",function(t){return e.onTouchDrag("bottom",t)}),s._UZ(13,"div",8),s.qZA(),s.TgZ(14,"div",11),s.NdJ("dragstart",function(t){return e.onDragStart("top",t)})("touchmove",function(t){return e.onTouchDrag("top",t)}),s._UZ(15,"div",8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(16,"canvas",12,13),s.qZA()),2&t&&(s.xp6(4),s.Q6J("src",e.imageData,s.LSH),s.xp6(2),s.Q6J("ngStyle",s.l5B(2,C,e.topOffset,e.bottomOffset,e.leftOffset,e.rightOffset)))},directives:[v.PC],styles:[".crop-container[_ngcontent-%COMP%]{text-align:center}.image-container[_ngcontent-%COMP%]{margin:auto;display:inline-block;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 30px);-o-object-fit:scale-down;object-fit:scale-down}.image-container[_ngcontent-%COMP%]   .crop-rect[_ngcontent-%COMP%]{position:absolute}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]{position:absolute;background-color:red}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%]{left:0;height:100%;width:2px;cursor:ew-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%]{right:0;height:100%;width:2px;cursor:ew-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]{top:0;width:100%;height:2px;cursor:ns-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]{bottom:0;width:100%;height:2px;cursor:ns-resize}.image-container[_ngcontent-%COMP%]   .crop-rect[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:10px;background-color:red;width:20px;height:20px;position:absolute}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{top:calc(50% - 10px);left:-10px}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{left:calc(50% - 10px);top:-10px}"],changeDetection:0}),t}()},5310:function(t,e,n){"use strict";n.d(e,{i:function(){return i}});var r=n(7574),i=function(){function t(){c(this,t)}return o(t,null,[{key:"convertFileToImageBase64",value:function(t){return new r.y(function(e){var n=new FileReader;n.onloadend=function(t){e.next({imageData:t.target.result}),e.complete()},n.onerror=function(){return e.error()},n.readAsDataURL(t)})}}]),t}()},9156:function(t,e,n){"use strict";n.d(e,{s:function(){return u},T:function(){return f}});var r=["J","Z","I","H","G","F","E","D","C","B","A"],i=["X","W","U","T","R","Q","P","N","M","L","K"],o=(function(t){t[t.before1968=0]="before1968",t[t.between1968_1999=1]="between1968_1999",t[t.after2000=2]="after2000"}(o||(o={})),o),c=[2,7,6,5,4,3,2];function a(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function s(t,e){for(var n=0,o=0;o<7;o++)n+=e[o]*c[o];switch(t){case"T":case"G":n+=4}var a=Math.floor(n%11);switch(t){case"S":case"T":return r[a];case"F":case"G":return i[a]}return" "}function u(t,e){var n,r=function(t){return t<1968?o.before1968:t<=1999?o.between1968_1999:o.after2000}(e),i=[];switch(t){case"S":case"T":switch(r){case o.before1968:n="S",i.push(a(0,1));break;case o.between1968_1999:switch(n="S",i.push(a(6,9)),i[0]){case 6:i.push(a(8,9));break;default:i.push(a(0,9))}break;case o.after2000:n="T";var c=a(0,e%100);i.push(Math.floor(c/10)),i.push(c%10)}break;case"F":case"G":switch(r){case o.before1968:n="F",i.push(a(0,1));break;case o.between1968_1999:switch(n="F",i.push(a(6,9)),i[0]){case 6:i.push(a(8,9));break;default:i.push(a(0,9))}break;case o.after2000:n="G";var u=a(0,e%100);i.push(Math.floor(u/10)),i.push(u%10)}}for(var f=i.length;f<7;f++)i.push(a(0,9));var g=s(n,i);return[n].concat(i,[g]).join("")}function f(t){if("S"!==(t=t.toUpperCase()).charAt(0)&&"T"!==t.charAt(0)&&"F"!==t.charAt(0)&&"G"!==t.charAt(0))return!1;if(!t.match("[S,T,F,G](\\d){7}\\w"))return!1;var e=t.substr(1,7).split("").map(function(t){return+t}),n=s(t.charAt(0),e);return t.charAt(8)===n}},2541:function(t,e,n){"use strict";n.d(e,{u:function(){return l}});var r=n(8002),i=n(7519),a=n(4458),s=n(1307),u=n(8634),f=n(8229),g=n(7716),l=function(){var t=function(){function t(){c(this,t),this.secondsTickers$=(0,u.H)(0,150).pipe((0,r.U)(function(){return Date.now()}),(0,i.x)(function(t,e){return Math.trunc(e/1e3)===Math.trunc(t/1e3)}),(0,a.O)(function(){return new f.t(1)}),(0,s.x)())}return o(t,[{key:"getSeconds$",value:function(){return this.secondsTickers$}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();