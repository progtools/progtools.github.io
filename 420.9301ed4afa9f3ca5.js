"use strict";(self.webpackChunkprog_tools=self.webpackChunkprog_tools||[]).push([[420],{3420:(M,u,c)=>{c.r(u),c.d(u,{CountdownModule:()=>b});var r=c(3740),l=c(8834),d=c(2881),p=c(5207),t=c(1360);class f{constructor(a,e){this.id=a,this.timerFullDuration=e}}var w=c(4466);let C=(()=>{class n{constructor(){this.hh=(0,t.hFB)(),this.mm=(0,t.hFB)(),this.ss=(0,t.hFB)()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-count-down-dial-view"]],inputs:{hh:[1,"hh"],mm:[1,"mm"],ss:[1,"ss"]},standalone:!1,decls:10,vars:3,consts:[[1,"dial","hour","time"],[1,"dial"],[1,"dial","min","time"],[1,"dial","se","time"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.j41(2,"div",1),t.EFF(3,":"),t.k0s(),t.j41(4,"div",2),t.EFF(5),t.k0s(),t.j41(6,"div",1),t.EFF(7,":"),t.k0s(),t.j41(8,"div",3),t.EFF(9),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",i.hh()," "),t.R7$(4),t.SpI(" ",i.mm(),""),t.R7$(4),t.JRh(i.ss()))},styles:["[_nghost-%COMP%]{display:flex}.dial[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;text-align:center}"],changeDetection:0})}}return n})(),_=(()=>{class n{constructor(){this.hh=(0,t.hFB)(),this.mm=(0,t.hFB)(),this.ss=(0,t.hFB)()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-count-down-dial-edit"]],inputs:{hh:[1,"hh"],mm:[1,"mm"],ss:[1,"ss"]},standalone:!1,decls:25,vars:3,consts:[[1,"dial","hour","time"],[1,"time"],[1,"dial"],[1,"dial","min","time"],[1,"dial","se","time"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"button"),t.EFF(2,"+"),t.k0s(),t.j41(3,"div",1),t.EFF(4),t.k0s(),t.j41(5,"button"),t.EFF(6,"-"),t.k0s()(),t.j41(7,"div",2),t.EFF(8,":"),t.k0s(),t.j41(9,"div",3)(10,"button"),t.EFF(11,"+"),t.k0s(),t.j41(12,"div",1),t.EFF(13),t.k0s(),t.j41(14,"button"),t.EFF(15,"-"),t.k0s()(),t.j41(16,"div",2),t.EFF(17,":"),t.k0s(),t.j41(18,"div",4)(19,"button"),t.EFF(20,"+"),t.k0s(),t.j41(21,"div",1),t.EFF(22),t.k0s(),t.j41(23,"button"),t.EFF(24,"-"),t.k0s()()),2&o&&(t.R7$(4),t.JRh(i.hh()),t.R7$(9),t.JRh(i.mm()),t.R7$(9),t.JRh(i.ss()))},styles:["[_nghost-%COMP%]{display:flex}.dial[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;text-align:center}"],changeDetection:0})}}return n})();function g(n,a){if(1&n&&t.nrm(0,"app-count-down-dial-view",8),2&n){const e=t.XpG();t.Y8G("hh",e.hh())("mm",e.mm())("ss",e.ss())}}function F(n,a){if(1&n&&t.nrm(0,"app-count-down-dial-edit",8),2&n){const e=t.XpG();t.Y8G("hh",e.hh())("mm",e.mm())("ss",e.ss())}}function D(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onEdit())}),t.j41(1,"mat-icon",7),t.EFF(2,"edit"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("inline",!0))}function T(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onEditComplete())}),t.j41(1,"mat-icon",7),t.EFF(2,"done"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("inline",!0))}let m=(()=>{class n{constructor(){this.countDownData=t.hFB.required(),this.passedSeconds=(0,t.hFB)(0),this.deleteClicked=new t.bkB,this.completed=new t.bkB,this.isInEditMode=(0,t.vPA)(!1),this.pendingSeconds=(0,t.EWP)(()=>{const e=this.countDownData();return e?e.timerFullDuration-(this.passedSeconds()??0):0}),this.hh=(0,t.EWP)(()=>Math.max(0,Math.floor(this.pendingSeconds()/3600))),this.mm=(0,t.EWP)(()=>Math.max(0,Math.floor(this.pendingSeconds()%3600/60))),this.ss=(0,t.EWP)(()=>Math.max(0,Math.floor(this.pendingSeconds()%60))),(0,t.QZP)(()=>{this.pendingSeconds()<=0&&(this.passedSeconds()??0)>0&&this.completed.emit()})}reset(){}onEdit(){this.isInEditMode.set(!0)}onEditComplete(){this.isInEditMode.set(!1)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-count-down-timer"]],inputs:{countDownData:[1,"countDownData"],passedSeconds:[1,"passedSeconds"]},outputs:{deleteClicked:"deleteClicked",completed:"completed"},standalone:!1,decls:13,vars:5,consts:[[1,"timer"],[3,"hh","mm","ss",4,"ngIf"],[1,"controls-group"],[1,"button-container"],["mat-flat-button","","color","primary","class","controls","aria-label","Edit the time",3,"click",4,"ngIf"],["mat-flat-button","","color","accent","class","controls","aria-label","Finish editing the time",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","aria-label","Delete the countdown",1,"controls",3,"click"],[3,"inline"],[3,"hh","mm","ss"],["mat-flat-button","","color","primary","aria-label","Edit the time",1,"controls",3,"click"],["mat-flat-button","","color","accent","aria-label","Finish editing the time",1,"controls",3,"click"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.DNE(1,g,1,3,"app-count-down-dial-view",1)(2,F,1,3,"app-count-down-dial-edit",1),t.j41(3,"div",2)(4,"div",3),t.DNE(5,D,3,1,"button",4)(6,T,3,1,"button",5),t.j41(7,"button",6),t.bIt("click",function(){return i.deleteClicked.emit()}),t.j41(8,"mat-icon",7),t.EFF(9,"delete"),t.k0s()()(),t.j41(10,"div",3)(11,"mat-icon"),t.EFF(12,"reorder"),t.k0s()()()()),2&o&&(t.R7$(),t.Y8G("ngIf",!i.isInEditMode()),t.R7$(),t.Y8G("ngIf",i.isInEditMode()),t.R7$(3),t.Y8G("ngIf",!i.isInEditMode()),t.R7$(),t.Y8G("ngIf",i.isInEditMode()),t.R7$(2),t.Y8G("inline",!0))},dependencies:[d.bT,l.$z,r.An,C,_],styles:[".timer[_ngcontent-%COMP%]{display:flex;box-shadow:0 0 8px 2px #888;border-radius:9px;padding:4px}.timer[_ngcontent-%COMP%]   app-count-down-dial[_ngcontent-%COMP%], .timer[_ngcontent-%COMP%]   app-count-down-dial-edit[_ngcontent-%COMP%]{flex:1 1 auto;margin:0}.controls-group[_ngcontent-%COMP%]{display:flex;margin-left:5px}.button-container[_ngcontent-%COMP%]{display:flex;margin-left:4px;flex-direction:column;justify-content:center}.button-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin:2px;flex:1 1 auto}.controls[_ngcontent-%COMP%]{min-width:20px;padding:0 10px;line-height:20px}app-count-down-dial-view[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0})}}return n})();var h=c(7575);function k(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-count-down-timer",5),t.bIt("deleteClicked",function(){const i=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.onDeleteClicked(i.id))})("completed",function(){const i=t.eBV(e),s=i.$implicit,j=i.index,E=t.XpG();return t.Njj(E.onTimerCompleted(s.id,j))}),t.k0s()}if(2&n){const e=a.$implicit,o=a.index,i=t.XpG();t.Y8G("countDownData",e)("passedSeconds",i.runIndividually()&&i.runningIndex()!=o?0:i.passedTime())}}let y=(()=>{class n{constructor(){this.secondsService=(0,t.WQX)(w.o),this.nextId=0,this.isPlaying=(0,t.vPA)(!1),this.passedTime=(0,t.vPA)(0),this.runningIndex=(0,t.vPA)(0),this.runIndividually=(0,t.hFB)(!0),this.sort=(0,t.hFB)(!1),this.replay=(0,t.hFB)(!0),this.countdownTimers=(0,t.vPA)([]),(0,t.QZP)(()=>{this.secondsService.seconds(),(0,t.O8t)(this.isPlaying)&&this.passedTime.update(o=>o+1)}),(0,t.QZP)(()=>{if(this.sort()){const e=this.countdownTimers(),o=[...e].sort((i,s)=>i.timerFullDuration-s.timerFullDuration);JSON.stringify(e)!==JSON.stringify(o)&&(0,t.O8t)(()=>this.countdownTimers.set(o))}})}ngOnInit(){const e=[this.createNewTimerData(),this.createNewTimerData(),this.createNewTimerData()];this.countdownTimers.set(e)}onAddGroup(){const e=this.createNewTimerData();this.countdownTimers.update(o=>[...o,e])}onDeleteClicked(e){this.countdownTimers.update(o=>o.filter(i=>i.id!==e))}trackTimerFn(e,o){return o.id}togglePlay(){this.isPlaying.update(e=>!e)}createNewTimerData(){return new f(this.nextId++,Math.round(10*Math.random())+1)}onTimerCompleted(e,o){this.runIndividually()&&(this.passedTime.set(1),this.runningIndex.update(i=>i+1),this.runningIndex()>=this.countdownTimers().length&&(this.replay()?this.reset():this.isPlaying.set(!1)))}reset(){this.passedTime.set(0),this.runningIndex.set(0)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-count-down-group"]],viewQuery:function(o,i){if(1&o&&t.GBs(m,5),2&o){let s;t.mGM(s=t.lsd())&&(i.childTimerComponents=s)}},inputs:{runIndividually:[1,"runIndividually"],sort:[1,"sort"],replay:[1,"replay"]},standalone:!1,decls:13,vars:3,consts:[[1,"container"],["mode","determinate","value","40"],[1,"controls"],["mat-fab","","color","primary","aria-label","add new timer to the group",1,"group-item",3,"click"],["class","group-item",3,"countDownData","passedSeconds","deleteClicked","completed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group-item",3,"deleteClicked","completed","countDownData","passedSeconds"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.nrm(1,"mat-progress-bar",1),t.j41(2,"div",2)(3,"button",3),t.bIt("click",function(){return i.onAddGroup()}),t.j41(4,"mat-icon"),t.EFF(5,"add"),t.k0s()(),t.j41(6,"button",3),t.bIt("click",function(){return i.togglePlay()}),t.j41(7,"mat-icon"),t.EFF(8),t.k0s()(),t.j41(9,"button",3),t.bIt("click",function(){return i.reset()}),t.j41(10,"mat-icon"),t.EFF(11,"refresh"),t.k0s()()(),t.DNE(12,k,1,2,"app-count-down-timer",4),t.k0s()),2&o&&(t.R7$(8),t.JRh(i.isPlaying()?"pause":"play_arrow"),t.R7$(4),t.Y8G("ngForOf",i.countdownTimers())("ngForTrackBy",i.trackTimerFn))},dependencies:[d.Sq,l.Sr,r.An,h.HM,m],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;padding:5px;border:1px solid rgba(39,35,35,.726)}.container[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]{flex:1 1 auto;margin:5px}"],changeDetection:0})}}return n})();const v=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-countdown"]],standalone:!1,decls:4,vars:0,consts:[[1,"countdown"]],template:function(o,i){1&o&&(t.j41(0,"div")(1,"div",0),t.nrm(2,"app-count-down-group")(3,"app-count-down-group"),t.k0s()())},dependencies:[y],styles:["app-count-down-group[_ngcontent-%COMP%]{flex:1 1 auto;margin:16px}.countdown[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]})}}return n})()}];let x=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(v),p.iI]})}}return n})(),b=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,x,l.Hl,r.m_,h.PO]})}}return n})()}}]);