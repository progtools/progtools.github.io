"use strict";(self.webpackChunkprog_tools=self.webpackChunkprog_tools||[]).push([[76],{1722:(P,C,l)=>{l.d(C,{g:()=>c,z:()=>p});const e=["J","Z","I","H","G","F","E","D","C","B","A"],h=["X","W","U","T","R","Q","P","N","M","L","K"];var g=function(n){return n[n.before1968=0]="before1968",n[n.between1968_1999=1]="between1968_1999",n[n.after2000=2]="after2000",n}(g||{});const m=[2,7,6,5,4,3,2];function u(n,r){return n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n+1))+n}function _(n,r){let o=0;for(let s=0;s<7;s++)o+=r[s]*m[s];switch(n){case"T":case"G":o+=4}const i=Math.floor(o%11);switch(n){case"S":case"T":return e[i];case"F":case"G":return h[i]}return" "}function c(n,r){const o=function y(n){return n<1968?g.before1968:n<=1999?g.between1968_1999:g.after2000}(r);let i;const s=[];switch(n){case"S":case"T":switch(o){case g.before1968:i="S",s.push(u(0,1));break;case g.between1968_1999:6===(i="S",s.push(u(6,9)),s[0])?s.push(u(8,9)):s.push(u(0,9));break;case g.after2000:i="T";const O=u(0,r%100);s.push(Math.floor(O/10)),s.push(O%10)}break;case"F":case"G":switch(o){case g.before1968:i="F",s.push(u(0,1));break;case g.between1968_1999:6===(i="F",s.push(u(6,9)),s[0])?s.push(u(8,9)):s.push(u(0,9));break;case g.after2000:i="G";const O=u(0,r%100);s.push(Math.floor(O/10)),s.push(O%10)}}for(let d=s.length;d<7;d++)s.push(u(0,9));const f=_(i,s);return[i,...s,f].join("")}function p(n){if("S"!==(n=n.toUpperCase()).charAt(0)&&"T"!==n.charAt(0)&&"F"!==n.charAt(0)&&"G"!==n.charAt(0)||!n.match("[S,T,F,G](\\d){7}\\w"))return!1;const r=n.substr(1,7).split("").map(i=>+i),o=_(n.charAt(0),r);return n.charAt(8)===o}},3148:(P,C,l)=>{l.d(C,{o4:()=>X});const e="3.7.5",h=e,g="function"==typeof atob,m="function"==typeof btoa,u="function"==typeof Buffer,_="function"==typeof TextDecoder?new TextDecoder:void 0,y="function"==typeof TextEncoder?new TextEncoder:void 0,p=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),n=(t=>{let a={};return t.forEach((b,M)=>a[b]=M),a})(p),r=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,o=String.fromCharCode.bind(String),i="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),s=t=>t.replace(/=/g,"").replace(/[+\/]/g,a=>"+"==a?"-":"_"),f=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),d=t=>{let a,b,M,x,D="";const k=t.length%3;for(let R=0;R<t.length;){if((b=t.charCodeAt(R++))>255||(M=t.charCodeAt(R++))>255||(x=t.charCodeAt(R++))>255)throw new TypeError("invalid character found");a=b<<16|M<<8|x,D+=p[a>>18&63]+p[a>>12&63]+p[a>>6&63]+p[63&a]}return k?D.slice(0,k-3)+"===".substring(k):D},O=m?t=>btoa(t):u?t=>Buffer.from(t,"binary").toString("base64"):d,A=u?t=>Buffer.from(t).toString("base64"):t=>{let b=[];for(let M=0,x=t.length;M<x;M+=4096)b.push(o.apply(null,t.subarray(M,M+4096)));return O(b.join(""))},v=(t,a=!1)=>a?s(A(t)):A(t),T=t=>{if(t.length<2)return(a=t.charCodeAt(0))<128?t:a<2048?o(192|a>>>6)+o(128|63&a):o(224|a>>>12&15)+o(128|a>>>6&63)+o(128|63&a);var a=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return o(240|a>>>18&7)+o(128|a>>>12&63)+o(128|a>>>6&63)+o(128|63&a)},F=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,I=t=>t.replace(F,T),B=u?t=>Buffer.from(t,"utf8").toString("base64"):y?t=>A(y.encode(t)):t=>O(I(t)),E=(t,a=!1)=>a?s(B(t)):B(t),j=t=>E(t,!0),z=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,H=t=>{switch(t.length){case 4:var b=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return o(55296+(b>>>10))+o(56320+(1023&b));case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},S=t=>t.replace(z,H),L=t=>{if(t=t.replace(/\s+/g,""),!r.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let a,M,x,b="";for(let D=0;D<t.length;)a=n[t.charAt(D++)]<<18|n[t.charAt(D++)]<<12|(M=n[t.charAt(D++)])<<6|(x=n[t.charAt(D++)]),b+=64===M?o(a>>16&255):64===x?o(a>>16&255,a>>8&255):o(a>>16&255,a>>8&255,255&a);return b},w=g?t=>atob(f(t)):u?t=>Buffer.from(t,"base64").toString("binary"):L,G=u?t=>i(Buffer.from(t,"base64")):t=>i(w(t).split("").map(a=>a.charCodeAt(0))),V=t=>G(W(t)),Z=u?t=>Buffer.from(t,"base64").toString("utf8"):_?t=>_.decode(G(t)):t=>S(w(t)),W=t=>f(t.replace(/[-_]/g,a=>"-"==a?"+":"/")),U=t=>Z(W(t)),K=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),N=function(){const t=(a,b)=>Object.defineProperty(String.prototype,a,K(b));t("fromBase64",function(){return U(this)}),t("toBase64",function(a){return E(this,a)}),t("toBase64URI",function(){return E(this,!0)}),t("toBase64URL",function(){return E(this,!0)}),t("toUint8Array",function(){return V(this)})},$=function(){const t=(a,b)=>Object.defineProperty(Uint8Array.prototype,a,K(b));t("toBase64",function(a){return v(this,a)}),t("toBase64URI",function(){return v(this,!0)}),t("toBase64URL",function(){return v(this,!0)})},X={version:e,VERSION:h,atob:w,atobPolyfill:L,btoa:O,btoaPolyfill:d,fromBase64:U,toBase64:E,encode:E,encodeURI:j,encodeURL:j,utob:I,btou:S,decode:U,isValid:t=>{if("string"!=typeof t)return!1;const a=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(a)||!/[^\s0-9a-zA-Z\-_]/.test(a)},fromUint8Array:v,toUint8Array:V,extendString:N,extendUint8Array:$,extendBuiltins:()=>{N(),$()}}},3709:(P,C,l)=>{l.d(C,{g:()=>u});var e=l(1360),h=l(9417),g=l(3746),m=l(5961);let u=(()=>{class _{constructor(){this.label=(0,e.hFB)(),this.type=(0,e.hFB)("input"),this.internalValue=(0,e.geq)(""),this.disabled=(0,e.geq)(!1),this.propagateChange=c=>{},this.onTouched=()=>{}}writeValue(c){this.internalValue.set(c)}registerOnChange(c){this.propagateChange=c}registerOnTouched(c){this.onTouched=c}setDisabledState(c){this.disabled.set(c)}onValueChange(c){this.internalValue.set(c),this.propagateChange(c)}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=e.VBU({type:_,selectors:[["app-prog-input-type-one"]],inputs:{label:[1,"label"],type:[1,"type"],internalValue:[1,"internalValue"],disabled:[1,"disabled"]},outputs:{internalValue:"internalValueChange",disabled:"disabledChange"},standalone:!1,features:[e.Jv_([{provide:h.kq,useExisting:(0,e.Rfq)(()=>_),multi:!0}])],decls:4,vars:5,consts:[["appearance","outline"],["matInput","",3,"ngModelChange","placeholder","type","ngModel","disabled"]],template:function(p,n){1&p&&(e.j41(0,"mat-form-field",0)(1,"mat-label"),e.EFF(2),e.k0s(),e.j41(3,"input",1),e.bIt("ngModelChange",function(o){return n.onValueChange(o)}),e.k0s()()),2&p&&(e.R7$(2),e.JRh(n.label()),e.R7$(),e.Y8G("placeholder",n.label()||"")("type",n.type())("ngModel",n.internalValue())("disabled",n.disabled()))},dependencies:[h.me,h.BC,h.vS,g.fg,m.j,m.M],encapsulation:2,changeDetection:0})}}return _})()},3801:(P,C,l)=>{l.d(C,{B0:()=>m,FQ:()=>y});var e=l(9361),h=l(1360);class g{_document;_textarea;constructor(p,n){this._document=n;const r=this._textarea=this._document.createElement("textarea"),o=r.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",r.setAttribute("aria-hidden","true"),r.value=p,r.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(r)}copy(){const p=this._textarea;let n=!1;try{if(p){const r=this._document.activeElement;p.select(),p.setSelectionRange(0,p.value.length),n=this._document.execCommand("copy"),r&&r.focus()}}catch{}return n}destroy(){const p=this._textarea;p&&(p.remove(),this._textarea=void 0)}}let m=(()=>{class c{_document=(0,h.WQX)(e.q);constructor(){}copy(n){const r=this.beginCopy(n),o=r.copy();return r.destroy(),o}beginCopy(n){return new g(n,this._document)}static \u0275fac=function(r){return new(r||c)};static \u0275prov=h.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),y=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=h.$C({type:c});static \u0275inj=h.G2t({})}return c})()},4466:(P,C,l)=>{l.d(C,{o:()=>y});var e=l(5006),h=l(522),g=l(4002),m=l(6651),u=l(9079),_=l(1360);let y=(()=>{class c{constructor(){this.secondsTickers$=(0,m.O)(0,150).pipe((0,e.T)(()=>Date.now()),(0,h.F)((n,r)=>Math.trunc(r/1e3)===Math.trunc(n/1e3)),(0,g.t)(1)),this.seconds=(0,u.ot)(this.secondsTickers$,{initialValue:Date.now()})}getSeconds$(){return this.secondsTickers$}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=_.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},5389:(P,C,l)=>{l.d(C,{h:()=>m});var e=l(2881),h=l(8834),g=l(1360);let m=(()=>{class u{static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275mod=g.$C({type:u})}static{this.\u0275inj=g.G2t({imports:[e.MD,h.Hl]})}}return u})()},6932:(P,C,l)=>{l.d(C,{x:()=>e});class e{static convertFileToImageBase64(g){return new Promise((m,u)=>{const _=new FileReader;_.onloadend=y=>{m({imageData:y.target.result})},_.onerror=()=>u(),_.readAsDataURL(g)})}}},7746:(P,C,l)=>{l.d(C,{f:()=>u});var e=l(3746),h=l(2881),g=l(9417),m=l(1360);let u=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=m.$C({type:_})}static{this.\u0275inj=m.G2t({imports:[h.MD,g.YN,e.fS]})}}return _})()},8763:(P,C,l)=>{l.d(C,{v:()=>c});var e=l(1360),h=l(2881);const g=["imageContainer"],m=["cropRect"],u=["image"],_=["canvas"],y=(p,n,r,o)=>({top:p,bottom:n,left:r,right:o});let c=(()=>{class p{constructor(){this.imageData=(0,e.hFB)(),this.croppedImage=(0,e.CGW)(),this.isCropping=(0,e.CGW)(),this.topOffset=(0,e.vPA)("10px"),this.bottomOffset=(0,e.vPA)("10px"),this.leftOffset=(0,e.vPA)("10px"),this.rightOffset=(0,e.vPA)("10px"),this.lastMoveTime=0,this.THROTTLE_MS=100}ngOnInit(){}ngOnChanges(r){this.leftOffset.set("10px"),this.topOffset.set("10px"),this.rightOffset.set("10px"),this.bottomOffset.set("10px")}onDragStart(r,o){this.currentlyDragging=r;const i=new Image;i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",o.dataTransfer.setDragImage(i,0,0)}onDragOver(r){this.handleMove(r.clientX,r.clientY,this.currentlyDragging)}onTouchDrag(r,o){o.preventDefault();const i=o.touches[0];this.handleMove(i.clientX,i.clientY,r)}handleMove(r,o,i){const s=Date.now();if(s-this.lastMoveTime<this.THROTTLE_MS||(this.lastMoveTime=s,!this.imgContainerElement))return;const f=this.imgContainerElement.nativeElement.getBoundingClientRect(),d=r-f.x,O=o-f.y;switch(i){case"left":d>=0&&this.leftOffset.set(d+"px");break;case"right":const A=f.width-d;A>=0&&this.rightOffset.set(A+"px");break;case"top":O>=0&&this.topOffset.set(O+"px");break;case"bottom":const v=f.height-O;v>=0&&this.bottomOffset.set(v+"px")}}cropImage(){const r=this.imageElement.nativeElement,o=this.cropRectElement.nativeElement.getBoundingClientRect(),i=this.imgContainerElement.nativeElement.getBoundingClientRect(),s=r.naturalWidth/i.width,f=r.naturalHeight/i.height,d=(o.left-i.left)*s,O=(o.top-i.top)*f,A=o.width*s,v=o.height*f;this.isCropping.emit(!0);const T=this.canvasElement.nativeElement;T.width=A,T.height=v,T.getContext("2d").drawImage(r,d,O,A,v,0,0,A,v),T.toBlob(I=>{const B=new FileReader;B.readAsDataURL(I),B.onloadend=()=>{this.croppedImage.emit(B.result),this.isCropping.emit(!1)}})}static{this.\u0275fac=function(o){return new(o||p)}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["app-image-crop"]],viewQuery:function(o,i){if(1&o&&(e.GBs(g,5),e.GBs(m,5),e.GBs(u,5),e.GBs(_,5)),2&o){let s;e.mGM(s=e.lsd())&&(i.imgContainerElement=s.first),e.mGM(s=e.lsd())&&(i.cropRectElement=s.first),e.mGM(s=e.lsd())&&(i.imageElement=s.first),e.mGM(s=e.lsd())&&(i.canvasElement=s.first)}},inputs:{imageData:[1,"imageData"]},outputs:{croppedImage:"croppedImage",isCropping:"isCropping"},standalone:!1,features:[e.OA$],decls:18,vars:7,consts:[["imageContainer",""],["image",""],["cropRect",""],["canvas",""],[1,"crop-container"],[1,"image-container",3,"dragover"],[3,"src"],[1,"crop-rect",3,"ngStyle"],["draggable","true",1,"crop-rect-right",3,"dragstart","touchmove"],[1,"circle"],["draggable","true",1,"crop-rect-left",3,"dragstart","touchmove"],["draggable","true",1,"crop-rect-bottom",3,"dragstart","touchmove"],["draggable","true",1,"crop-rect-top",3,"dragstart","touchmove"],[2,"display","none"]],template:function(o,i){if(1&o){const s=e.RV6();e.j41(0,"div")(1,"div",4)(2,"div",5,0),e.bIt("dragover",function(d){return e.eBV(s),e.Njj(i.onDragOver(d))}),e.nrm(4,"img",6,1),e.j41(6,"div",7,2)(8,"div",8),e.bIt("dragstart",function(d){return e.eBV(s),e.Njj(i.onDragStart("right",d))})("touchmove",function(d){return e.eBV(s),e.Njj(i.onTouchDrag("right",d))}),e.nrm(9,"div",9),e.k0s(),e.j41(10,"div",10),e.bIt("dragstart",function(d){return e.eBV(s),e.Njj(i.onDragStart("left",d))})("touchmove",function(d){return e.eBV(s),e.Njj(i.onTouchDrag("left",d))}),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",11),e.bIt("dragstart",function(d){return e.eBV(s),e.Njj(i.onDragStart("bottom",d))})("touchmove",function(d){return e.eBV(s),e.Njj(i.onTouchDrag("bottom",d))}),e.nrm(13,"div",9),e.k0s(),e.j41(14,"div",12),e.bIt("dragstart",function(d){return e.eBV(s),e.Njj(i.onDragStart("top",d))})("touchmove",function(d){return e.eBV(s),e.Njj(i.onTouchDrag("top",d))}),e.nrm(15,"div",9),e.k0s()()()(),e.nrm(16,"canvas",13,3),e.k0s()}2&o&&(e.R7$(4),e.Y8G("src",i.imageData(),e.B4B),e.R7$(2),e.Y8G("ngStyle",e.ziG(2,y,i.topOffset(),i.bottomOffset(),i.leftOffset(),i.rightOffset())))},dependencies:[h.B3],styles:[".crop-container[_ngcontent-%COMP%]{text-align:center}.image-container[_ngcontent-%COMP%]{margin:auto;display:inline-block;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 30px);object-fit:scale-down}.image-container[_ngcontent-%COMP%]   .crop-rect[_ngcontent-%COMP%]{position:absolute}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]{position:absolute;background-color:red}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%]{left:0;height:100%;width:2px;cursor:ew-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%]{right:0;height:100%;width:2px;cursor:ew-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]{top:0;width:100%;height:2px;cursor:ns-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]{bottom:0;width:100%;height:2px;cursor:ns-resize}.image-container[_ngcontent-%COMP%]   .crop-rect[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:10px;background-color:red;width:20px;height:20px;position:absolute}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{top:calc(50% - 10px);left:-10px}.image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{left:calc(50% - 10px);top:-10px}"],changeDetection:0})}}return p})()}}]);