(self.webpackChunkprog_tools=self.webpackChunkprog_tools||[]).push([[592],{712:function(t,e,n){"use strict";n.d(e,{K:function(){return a}});var r=n(8583),o=n(1095),i=n(7716);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[r.ez,o.ot]]}),t})()},6758:function(t,e,n){"use strict";n.d(e,{d:function(){return C}});var r=n(9765),o=n(7716),i=n(7393),a=n(3637);const c={leading:!0,trailing:!1};class s{constructor(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}call(t,e){return e.subscribe(new u(t,this.duration,this.scheduler,this.leading,this.trailing))}}class u extends i.L{constructor(t,e,n,r,o){super(t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function l(t){const{subscriber:e}=t;e.clearThrottle()}var h=n(6782),g=n(8583);const f=["imageContainer"],d=["cropRect"],p=["image"],m=["canvas"],b=function(t,e,n,r){return{top:t,bottom:e,left:n,right:r}};let C=(()=>{class t{constructor(t){this.cdr=t,this.croppedImage=new o.vpe,this.isCropping=new o.vpe,this.topOffset="10px",this.bottomOffset="10px",this.leftOffset="10px",this.rightOffset="10px",this.onDestroyed$=new r.xQ,this.borderDragged$=new r.xQ}ngOnInit(){this.borderDragged$.pipe(function(t,e=a.P,n=c){return r=>r.lift(new s(t,e,n.leading,n.trailing))}(100),(0,h.R)(this.onDestroyed$)).subscribe(({event:{viewPortX:t,viewPortY:e},border:n})=>{const r=this.imgContainerElement.nativeElement.getBoundingClientRect(),o=t-r.x,i=e-r.y;switch(n){case"left":this.leftOffset=o>=0?o+"px":this.leftOffset;break;case"right":const t=r.width-o;this.rightOffset=t>=0?t+"px":this.rightOffset;break;case"top":this.topOffset=i>=0?i+"px":this.topOffset;break;case"bottom":const e=r.height-i;this.bottomOffset=e>=0?e+"px":this.bottomOffset}this.cdr.detectChanges()})}ngOnChanges(t){this.leftOffset=this.topOffset=this.rightOffset=this.bottomOffset="10px"}ngOnDestroy(){this.onDestroyed$.next(),this.onDestroyed$.complete()}onDragStart(t,e){this.currentlyDragging=t;const n=new Image;n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.dataTransfer.setDragImage(n,0,0)}onDragOver(t){this.borderDragged$.next({event:{viewPortX:t.clientX,viewPortY:t.clientY},border:this.currentlyDragging})}onTouchDrag(t,e){e.preventDefault();const n=e.touches[0];this.borderDragged$.next({event:{viewPortX:n.clientX,viewPortY:n.clientY},border:t})}cropImage(){const t=this.imageElement.nativeElement,e=this.cropRectElement.nativeElement.getBoundingClientRect(),n=this.imgContainerElement.nativeElement.getBoundingClientRect(),r=t.naturalWidth/n.width,o=t.naturalHeight/n.height,i=(e.left-n.left)*r,a=(e.top-n.top)*o,c=e.width*r,s=e.height*o;this.isCropping.emit(!0);const u=this.canvasElement.nativeElement;u.width=c,u.height=s,u.getContext("2d").drawImage(t,i,a,c,s,0,0,c,s),u.toBlob(t=>{const e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>{this.croppedImage.emit(e.result),this.isCropping.emit(!1)}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-image-crop"]],viewQuery:function(t,e){if(1&t&&(o.Gf(f,5),o.Gf(d,5),o.Gf(p,5),o.Gf(m,5)),2&t){let t;o.iGM(t=o.CRH())&&(e.imgContainerElement=t.first),o.iGM(t=o.CRH())&&(e.cropRectElement=t.first),o.iGM(t=o.CRH())&&(e.imageElement=t.first),o.iGM(t=o.CRH())&&(e.canvasElement=t.first)}},inputs:{imageData:"imageData"},outputs:{croppedImage:"croppedImage",isCropping:"isCropping"},features:[o.TTD],decls:18,vars:7,consts:[[1,"crop-container"],[1,"image-container",3,"dragover"],["imageContainer",""],[3,"src"],["image",""],[1,"crop-rect",3,"ngStyle"],["cropRect",""],["draggable","true",1,"crop-rect-right",3,"dragstart","touchmove"],[1,"circle"],["draggable","true",1,"crop-rect-left",3,"dragstart","touchmove"],["draggable","true",1,"crop-rect-bottom",3,"dragstart","touchmove"],["draggable","true",1,"crop-rect-top",3,"dragstart","touchmove"],[2,"display","none"],["canvas",""]],template:function(t,e){1&t&&(o.TgZ(0,"div"),o.TgZ(1,"div",0),o.TgZ(2,"div",1,2),o.NdJ("dragover",function(t){return e.onDragOver(t)}),o._UZ(4,"img",3,4),o.TgZ(6,"div",5,6),o.TgZ(8,"div",7),o.NdJ("dragstart",function(t){return e.onDragStart("right",t)})("touchmove",function(t){return e.onTouchDrag("right",t)}),o._UZ(9,"div",8),o.qZA(),o.TgZ(10,"div",9),o.NdJ("dragstart",function(t){return e.onDragStart("left",t)})("touchmove",function(t){return e.onTouchDrag("left",t)}),o._UZ(11,"div",8),o.qZA(),o.TgZ(12,"div",10),o.NdJ("dragstart",function(t){return e.onDragStart("bottom",t)})("touchmove",function(t){return e.onTouchDrag("bottom",t)}),o._UZ(13,"div",8),o.qZA(),o.TgZ(14,"div",11),o.NdJ("dragstart",function(t){return e.onDragStart("top",t)})("touchmove",function(t){return e.onTouchDrag("top",t)}),o._UZ(15,"div",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(16,"canvas",12,13),o.qZA()),2&t&&(o.xp6(4),o.Q6J("src",e.imageData,o.LSH),o.xp6(2),o.Q6J("ngStyle",o.l5B(2,b,e.topOffset,e.bottomOffset,e.leftOffset,e.rightOffset)))},directives:[g.PC],styles:[".crop-container[_ngcontent-%COMP%]{text-align:center}.image-container[_ngcontent-%COMP%]{margin:auto;display:inline-block;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 30px);-o-object-fit:scale-down;object-fit:scale-down}.image-container[_ngcontent-%COMP%]   .crop-rect[_ngcontent-%COMP%]{position:absolute}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]{position:absolute;background-color:red}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%]{left:0;height:100%;width:2px;cursor:ew-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%]{right:0;height:100%;width:2px;cursor:ew-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]{top:0;width:100%;height:2px;cursor:ns-resize}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]{bottom:0;width:100%;height:2px;cursor:ns-resize}.image-container[_ngcontent-%COMP%]   .crop-rect[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:10px;background-color:red;width:20px;height:20px;position:absolute}.image-container[_ngcontent-%COMP%]   .crop-rect-left[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-right[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{top:calc(50% - 10px);left:-10px}.image-container[_ngcontent-%COMP%]   .crop-rect-bottom[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .crop-rect-top[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{left:calc(50% - 10px);top:-10px}"],changeDetection:0}),t})()},661:function(t,e,n){"use strict";n.d(e,{H:function(){return c}});var r=n(9983),o=n(8583),i=n(3679),a=n(7716);let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.ez,i.u5,r.c]]}),t})()},1612:function(t,e,n){"use strict";n.d(e,{X:function(){return c}});var r=n(7716),o=n(3679),i=n(8295),a=n(9983);let c=(()=>{class t{constructor(){this.type="input",this.disabled=!1,this.propagateChange=t=>{}}get value(){return this._value}set value(t){this.propagateChange(t),this._value=t}writeValue(t){this.value=t}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){this.disabled=t}ngOnInit(){}onValueChange(t){this.value=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-prog-input-type-one"]],inputs:{label:"label",type:"type"},features:[r._Bn([{provide:o.JU,useExisting:(0,r.Gpc)(()=>t),multi:!0}])],decls:4,vars:5,consts:[["appearance","outline"],["matInput","",3,"placeholder","type","ngModel","disabled","ngModelChange"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-form-field",0),r.TgZ(1,"mat-label"),r._uU(2),r.qZA(),r.TgZ(3,"input",1),r.NdJ("ngModelChange",function(t){return e.value=t})("ngModelChange",function(t){return e.onValueChange(t)}),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Oqu(e.label),r.xp6(1),r.Q6J("placeholder",e.label)("type",e.type)("ngModel",e.value)("disabled",e.disabled))},directives:[i.KE,i.hX,a.Nt,o.Fj,o.JJ,o.On],styles:[""]}),t})()},5310:function(t,e,n){"use strict";n.d(e,{i:function(){return o}});var r=n(7574);class o{static convertFileToImageBase64(t){return new r.y(e=>{const n=new FileReader;n.onloadend=t=>{e.next({imageData:t.target.result}),e.complete()},n.onerror=()=>e.error(),n.readAsDataURL(t)})}}},9156:function(t,e,n){"use strict";n.d(e,{s:function(){return u},T:function(){return l}});const r=["J","Z","I","H","G","F","E","D","C","B","A"],o=["X","W","U","T","R","Q","P","N","M","L","K"];var i=(()=>(function(t){t[t.before1968=0]="before1968",t[t.between1968_1999=1]="between1968_1999",t[t.after2000=2]="after2000"}(i||(i={})),i))();const a=[2,7,6,5,4,3,2];function c(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function s(t,e){let n=0;for(let r=0;r<7;r++)n+=e[r]*a[r];switch(t){case"T":case"G":n+=4}const i=Math.floor(n%11);switch(t){case"S":case"T":return r[i];case"F":case"G":return o[i]}return" "}function u(t,e){const n=function(t){return t<1968?i.before1968:t<=1999?i.between1968_1999:i.after2000}(e);let r;const o=[];switch(t){case"S":case"T":switch(n){case i.before1968:r="S",o.push(c(0,1));break;case i.between1968_1999:switch(r="S",o.push(c(6,9)),o[0]){case 6:o.push(c(8,9));break;default:o.push(c(0,9))}break;case i.after2000:r="T";const t=c(0,e%100);o.push(Math.floor(t/10)),o.push(t%10)}break;case"F":case"G":switch(n){case i.before1968:r="F",o.push(c(0,1));break;case i.between1968_1999:switch(r="F",o.push(c(6,9)),o[0]){case 6:o.push(c(8,9));break;default:o.push(c(0,9))}break;case i.after2000:r="G";const t=c(0,e%100);o.push(Math.floor(t/10)),o.push(t%10)}}for(let i=o.length;i<7;i++)o.push(c(0,9));const a=s(r,o);return[r,...o,a].join("")}function l(t){if("S"!==(t=t.toUpperCase()).charAt(0)&&"T"!==t.charAt(0)&&"F"!==t.charAt(0)&&"G"!==t.charAt(0))return!1;if(!t.match("[S,T,F,G](\\d){7}\\w"))return!1;const e=t.substr(1,7).split("").map(t=>+t),n=s(t.charAt(0),e);return t.charAt(8)===n}},2541:function(t,e,n){"use strict";n.d(e,{u:function(){return l}});var r=n(8002),o=n(7519),i=n(4458),a=n(1307),c=n(6797),s=n(8229),u=n(7716);let l=(()=>{class t{constructor(){this.secondsTickers$=(0,c.H)(0,150).pipe((0,r.U)(()=>Date.now()),(0,o.x)((t,e)=>Math.trunc(e/1e3)===Math.trunc(t/1e3)),(0,i.O)(()=>new s.t(1)),(0,a.x)())}getSeconds$(){return this.secondsTickers$}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2074:function(t,e,n){"use strict";n.d(e,{DS:function(){return I}});const r="function"==typeof atob,o="function"==typeof btoa,i="function"==typeof Buffer,a="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,s=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),u=(t=>{let e={};return t.forEach((t,n)=>e[t]=n),e})(s),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),g="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),f=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),d=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),p=t=>{let e,n,r,o,i="";const a=t.length%3;for(let c=0;c<t.length;){if((n=t.charCodeAt(c++))>255||(r=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|o,i+=s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},m=o?t=>btoa(t):i?t=>Buffer.from(t,"binary").toString("base64"):p,b=i?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let n=0,r=t.length;n<r;n+=4096)e.push(h.apply(null,t.subarray(n,n+4096)));return m(e.join(""))},C=(t,e=!1)=>e?f(b(t)):b(t),A=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|63&e)},v=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,O=t=>t.replace(v,A),_=i?t=>Buffer.from(t,"utf8").toString("base64"):c?t=>b(c.encode(t)):t=>m(O(t)),w=(t,e=!1)=>e?f(_(t)):_(t),x=t=>w(t,!0),y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,M=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return h(55296+(e>>>10))+h(56320+(1023&e));case 3:return h((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return h((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},P=t=>t.replace(y,M),D=t=>{if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,r,o="";for(let i=0;i<t.length;)e=u[t.charAt(i++)]<<18|u[t.charAt(i++)]<<12|(n=u[t.charAt(i++)])<<6|(r=u[t.charAt(i++)]),o+=64===n?h(e>>16&255):64===r?h(e>>16&255,e>>8&255):h(e>>16&255,e>>8&255,255&e);return o},T=r?t=>atob(d(t)):i?t=>Buffer.from(t,"base64").toString("binary"):D,B=i?t=>g(Buffer.from(t,"base64")):t=>g(T(t),t=>t.charCodeAt(0)),Z=t=>B(U(t)),S=i?t=>Buffer.from(t,"base64").toString("utf8"):a?t=>a.decode(B(t)):t=>P(T(t)),U=t=>d(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),E=t=>S(U(t)),F=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),R=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,F(e));t("fromBase64",function(){return E(this)}),t("toBase64",function(t){return w(this,t)}),t("toBase64URI",function(){return w(this,!0)}),t("toBase64URL",function(){return w(this,!0)}),t("toUint8Array",function(){return Z(this)})},k=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,F(e));t("toBase64",function(t){return C(this,t)}),t("toBase64URI",function(){return C(this,!0)}),t("toBase64URL",function(){return C(this,!0)})},I={version:"3.7.2",VERSION:"3.7.2",atob:T,atobPolyfill:D,btoa:m,btoaPolyfill:p,fromBase64:E,toBase64:w,encode:w,encodeURI:x,encodeURL:x,utob:O,btou:P,decode:E,isValid:t=>{if("string"!=typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:C,toUint8Array:Z,extendString:R,extendUint8Array:k,extendBuiltins:()=>{R(),k()}}}}]);