!function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkprog_tools=self.webpackChunkprog_tools||[]).push([[871],{6871:function(t,i,o){"use strict";o.r(i),o.d(i,{CountdownModule:function(){return I}});var r=o(1552),c=o(1095),s=o(8583),u=o(6983),a=o(7716),l=function t(n,i){e(this,t),this.id=n,this.timerFullDuration=i},d=o(9765),p=o(9112),m=o(4190),f=o(6782),h=o(8002),g=o(7519),w=o(8345),v=o(9761),y=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-count-down-dial-view"]],inputs:{hh:"hh",mm:"mm",ss:"ss"},decls:10,vars:3,consts:[[1,"dial","hour","time"],[1,"dial"],[1,"dial","min","time"],[1,"dial","se","time"]],template:function(t,n){1&t&&(a.TgZ(0,"div",0),a._uU(1),a.qZA(),a.TgZ(2,"div",1),a._uU(3,":"),a.qZA(),a.TgZ(4,"div",2),a._uU(5),a.qZA(),a.TgZ(6,"div",1),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",3),a._uU(9),a.qZA()),2&t&&(a.xp6(1),a.hij(" ",n.hh," "),a.xp6(4),a.hij(" ",n.mm,""),a.xp6(4),a.Oqu(n.ss))},styles:["[_nghost-%COMP%]{display:flex}.dial[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;text-align:center}"]}),t}();function x(t,n){if(1&t&&a._UZ(0,"app-count-down-dial-view",8),2&t){var e=a.oxw();a.Q6J("hh",e.hh)("mm",e.mm)("ss",e.ss)}}function T(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){return a.CHM(e),a.oxw().onEdit()}),a.TgZ(1,"mat-icon",7),a._uU(2,"edit"),a.qZA(),a.qZA()}2&t&&(a.xp6(1),a.Q6J("inline",!0))}function Z(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(){return a.CHM(e),a.oxw().onEditComplete()}),a.TgZ(1,"mat-icon",7),a._uU(2,"done"),a.qZA(),a.qZA()}2&t&&(a.xp6(1),a.Q6J("inline",!0))}var b=function(){var t=function(){function t(n){e(this,t),this.cdr=n,this._onDestroy$=new d.xQ,this.deleteClicked=new a.vpe,this.completed=new a.vpe}return n(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){var n=this;if(t.countDownData){var e=t.countDownData.currentValue;e&&this.setTimer(e.timerFullDuration)}if(t.passedSeconds$){this.subscription&&this.subscription.unsubscribe();var i=t.passedSeconds$.currentValue;i&&(this.subscription=i.pipe((0,f.R)(this._onDestroy$),(0,f.R)(this.completed)).subscribe(function(t){var e=n.countDownData.timerFullDuration-t;n.setTimer(e),n.cdr.markForCheck(),e<=0&&n.completed.emit()}))}}},{key:"ngOnDestroy",value:function(){m.l.onComponentDestroyed(this._onDestroy$)}},{key:"reset",value:function(){this.setTimer(this.countDownData.timerFullDuration)}},{key:"setTimer",value:function(t){t<0||(this.ss=t%60,t=Math.round(t/60),this.mm=t%60,t=Math.round(t/60),this.hh=t)}},{key:"onEdit",value:function(){this.isInEditMode=!0}},{key:"onEditComplete",value:function(){this.isInEditMode=!1}}]),t}();return t.\u0275fac=function(n){return new(n||t)(a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-count-down-timer"]],inputs:{countDownData:"countDownData",passedSeconds$:"passedSeconds$"},outputs:{deleteClicked:"deleteClicked",completed:"completed"},features:[a.TTD],decls:12,vars:4,consts:[[1,"timer"],[3,"hh","mm","ss",4,"ngIf"],[1,"controls-group"],[1,"button-container"],["mat-flat-button","","color","primary","class","controls","aria-label","Edit the time",3,"click",4,"ngIf"],["mat-flat-button","","color","accent","class","controls","aria-label","Finish editing the time",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","aria-label","Delete the countdown",1,"controls",3,"click"],[3,"inline"],[3,"hh","mm","ss"],["mat-flat-button","","color","primary","aria-label","Edit the time",1,"controls",3,"click"],["mat-flat-button","","color","accent","aria-label","Finish editing the time",1,"controls",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"div",0),a.YNc(1,x,1,3,"app-count-down-dial-view",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.YNc(4,T,3,1,"button",4),a.YNc(5,Z,3,1,"button",5),a.TgZ(6,"button",6),a.NdJ("click",function(){return n.deleteClicked.emit()}),a.TgZ(7,"mat-icon",7),a._uU(8,"delete"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"div",3),a.TgZ(10,"mat-icon"),a._uU(11,"reorder"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",!n.isInEditMode),a.xp6(3),a.Q6J("ngIf",!n.isInEditMode),a.xp6(1),a.Q6J("ngIf",n.isInEditMode),a.xp6(2),a.Q6J("inline",!0))},directives:[s.O5,c.lW,r.Hw,y],styles:[".timer[_ngcontent-%COMP%]{display:flex;box-shadow:0 0 8px 2px #888;border-radius:9px;padding:4px}.timer[_ngcontent-%COMP%]   app-count-down-dial[_ngcontent-%COMP%]{flex:1 1 auto;margin:0}.controls-group[_ngcontent-%COMP%]{display:flex;margin-left:5px}.button-container[_ngcontent-%COMP%]{display:flex;margin-left:4px;flex-direction:column;justify-content:center}.button-container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin:2px;flex:1 1 auto}.controls[_ngcontent-%COMP%]{min-width:20px;padding:0 10px;line-height:20px}app-count-down-dial-view[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t}(),k=o(2541),C=o(2178);function D(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"app-count-down-timer",5),a.NdJ("deleteClicked",function(){var t=a.CHM(e).$implicit;return a.oxw().onDeleteClicked(t.id)})("completed",function(){var t=a.CHM(e),n=t.$implicit,i=t.index;return a.oxw().onTimerCompleted(n.id,i)}),a.qZA()}if(2&t){var i=n.$implicit,o=n.index,r=a.oxw();a.Q6J("countDownData",i)("passedSeconds$",r.runIndividually&&r.runningIndex!=o?null:r.passedSeconds$)}}var _,M,O=function(){var t=function(){function t(n,i){e(this,t),this.cdr=i,this.destroy$=new d.xQ,this.onReset$=new d.xQ,this.nextId=0,this.isPlaying=!1,this.passedTime=0,this.runIndividually=!0,this.sort=!1,this.replay=!0,this.countdownTimers=[],this.passedSecondsSubject=new d.xQ,this.runningIndex=0,this.tickPerSecond$=n.getSeconds$().pipe((0,f.R)(this.destroy$),(0,h.U)(function(t){return Math.ceil(t/1e3)}),(0,g.x)())}return n(t,[{key:"passedSeconds$",get:function(){return this.passedSecondsSubject.pipe((0,w.B)())}},{key:"ngOnInit",value:function(){this.countdownTimers=this.countdownTimers.concat(this.createNewTimerData()).concat(this.createNewTimerData()).concat(this.createNewTimerData())}},{key:"ngOnDestroy",value:function(){this.passedSecondsSubject.complete(),m.l.onComponentDestroyed(this.destroy$)}},{key:"onAddGroup",value:function(){this.countdownTimers=this.countdownTimers.concat(this.createNewTimerData()),this.sort&&(this.countdownTimers=this.countdownTimers.sort(function(t,n){return t.timerFullDuration-n.timerFullDuration}))}},{key:"onDeleteClicked",value:function(t){this.countdownTimers=this.countdownTimers.filter(function(n){return n.id!==t})}},{key:"trackTimerFn",value:function(t,n){return n.id}},{key:"togglePlay",value:function(){var t=this;if(this.isPlaying=!this.isPlaying,this.isPlaying){var n=this.onReset$.pipe((0,v.O)(void 0));this.subscription=(0,p.aj)([this.tickPerSecond$,n]).subscribe(function(){return t.passedSecondsSubject.next(t.passedTime++)})}else this.subscription&&this.subscription.unsubscribe()}},{key:"createNewTimerData",value:function(){return new l(this.nextId++,Math.round(10*Math.random())+1)}},{key:"onTimerCompleted",value:function(t,n){if(this.runIndividually){if(this.passedTime=1,this.runningIndex++,this.runningIndex>=this.countdownTimers.length){if(!this.replay)return;this.reset()}this.cdr.detectChanges(),this.onReset$.next()}}},{key:"reset",value:function(){this.passedTime=0,this.runningIndex=0,this.childTimerComponents.forEach(function(t){return t.reset()}),this.cdr.detectChanges(),this.onReset$.next()}}]),t}();return t.\u0275fac=function(n){return new(n||t)(a.Y36(k.u),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-count-down-group"]],viewQuery:function(t,n){var e;(1&t&&a.Gf(b,5),2&t)&&(a.iGM(e=a.CRH())&&(n.childTimerComponents=e))},inputs:{runIndividually:"runIndividually",sort:"sort",replay:"replay"},decls:13,vars:3,consts:[[1,"container"],["mode","determinate","value","40"],[1,"controls"],["mat-fab","","color","primary","aria-label","add new timer to the group",1,"group-item",3,"click"],["class","group-item",3,"countDownData","passedSeconds$","deleteClicked","completed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group-item",3,"countDownData","passedSeconds$","deleteClicked","completed"]],template:function(t,n){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"mat-progress-bar",1),a.TgZ(2,"div",2),a.TgZ(3,"button",3),a.NdJ("click",function(){return n.onAddGroup()}),a.TgZ(4,"mat-icon"),a._uU(5,"add"),a.qZA(),a.qZA(),a.TgZ(6,"button",3),a.NdJ("click",function(){return n.togglePlay()}),a.TgZ(7,"mat-icon"),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"button",3),a.NdJ("click",function(){return n.reset()}),a.TgZ(10,"mat-icon"),a._uU(11,"refresh"),a.qZA(),a.qZA(),a.qZA(),a.YNc(12,D,1,2,"app-count-down-timer",4),a.qZA()),2&t&&(a.xp6(8),a.Oqu(n.isPlaying?"pause":"play_arrow"),a.xp6(4),a.Q6J("ngForOf",n.countdownTimers)("ngForTrackBy",n.trackTimerFn))},directives:[C.pW,c.lW,r.Hw,s.sg,b],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;padding:5px;border:1px solid rgba(39,35,35,.726)}.container[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]{flex:1 1 auto;margin:5px}"]}),t}(),A=[{path:"",component:(_=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}(),_.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=a.Xpm({type:_,selectors:[["app-countdown"]],decls:4,vars:0,consts:[[1,"countdown"]],template:function(t,n){1&t&&(a.TgZ(0,"div"),a.TgZ(1,"div",0),a._UZ(2,"app-count-down-group"),a._UZ(3,"app-count-down-group"),a.qZA(),a.qZA())},directives:[O],styles:["app-count-down-group[_ngcontent-%COMP%]{flex:1 1 auto;margin:16px}.countdown[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]}),_)}],q=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),t}(),I=((M=function t(){e(this,t)}).\u0275fac=function(t){return new(t||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({imports:[[s.ez,q,c.ot,r.Ps,C.Cv]]}),M)}}])}();